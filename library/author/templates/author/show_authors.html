{% extends 'base.html' %}
{% block styles %}
  {% load static %}
  <link rel="stylesheet" href="{% static 'author/css/style.css' %}">
{% endblock %}
{% block title %}
  Show all authors
{% endblock %}
{% block content %}
  <table class="tables">
    <caption><h2> Authors </h2></caption>
    <thead>
    <tr>
      <th>Name</th>
      <th>Surname</th>
      <th>Books</th>
      <th></th>
      <th></th>
    </tr>
    </thead>
    <tbody>


    {% for author in authors %}
      <tr>
        <td>{{ author.name }}</td>
        <td>{{ author.surname }}</td>
        <td>{% for book in author.books.all %}
          <p>{{ book.name }}</p>
            {% endfor %}</td>
      <td><a href="{% url 'author:update_author' author_id=author.id %}">edit author</a></td>
      <td><a href="{% url 'author:delete_author' author_id=author.id %}">delete author</a></td>
      </tr>

    {% endfor %}
    </tbody>
  </table>
  <hr>
  {% if request.user.role %}
  <div class="flexLinks">
    <div><a href="{% url 'author:create_author' %}">Create author</a></div>
<!--    <div><a href="{% url 'author:remove_author' %}">Remove author</a></div>-->
  </div>
  {% endif %}
{% endblock %}